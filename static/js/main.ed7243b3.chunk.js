(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),o=(n(118),n(119),n(187)),s=n(188),l=n(186),d=n(189),u=n(101),j=n.n(u),b=n(11),h=n(179),m=n(40),O=n(176),p=n(181),x=n(182),f=n(192),g=n(185),v=n(12),w=n(39),y=n(19),k=n(48),C=n.n(k),S=C.a.create({baseURL:"https://recruitment.ultimate.systems"}),I=function(e){return S.post("/auth/local/",e)},T={username:"",id:0,jwt:"",isLogin:!1},B=function(e,t,n){return{type:"login/SET-IS-LOGIN",username:e,id:t,value:n}},D=n(2),L=Object(O.a)((function(e){return{input:{backgroundColor:"white"}}})),P=function(){var e=Object(v.b)(),t=Object(w.c)({initialValues:{identifier:"",password:""},validate:function(e){var t={};return e.identifier||(t.identifier="Required"),e.password||(t.password="Required"),t},onSubmit:function(n){var a;e((a=n,function(e){I(a).then((function(t){0===t.data.code&&alert(t.data.message),e(B(t.data.user.username,t.data.user.id,!0)),localStorage.setItem("token",t.data.jwt)})).catch((function(e){alert(e)}))})),t.resetForm()}}),n=L();return Object(D.jsx)(h.a,{container:!0,justify:"center",children:Object(D.jsx)(h.a,{item:!0,xs:10,children:Object(D.jsx)("form",{onSubmit:t.handleSubmit,children:Object(D.jsx)(p.a,{children:Object(D.jsxs)(x.a,{children:[Object(D.jsx)(f.a,{inputProps:{className:n.input},placeholder:"Username or email",margin:"normal",name:"identifier",onChange:t.handleChange,value:t.values.identifier,onBlur:t.handleBlur}),t.touched.identifier&&t.errors.identifier&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.identifier}),Object(D.jsx)(f.a,{inputProps:{className:n.input},type:"password",placeholder:"Password",margin:"normal",name:"password",onChange:t.handleChange,value:t.values.password,onBlur:t.handleBlur}),t.touched.password&&t.errors.password&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.password}),Object(D.jsx)(g.a,{type:"submit",variant:"contained",style:{backgroundColor:"orange",color:"white"},children:"Login"})]})})})})})},E=function(){return Object(v.c)((function(e){return e.login.isLogin}))?Object(D.jsx)(b.a,{to:"/"}):Object(D.jsx)(h.a,{container:!0,justify:"center",style:{backgroundColor:"rgb(45, 45, 45)",maxWidth:890,marginTop:200},children:Object(D.jsxs)(h.a,{item:!0,xs:4,children:[Object(D.jsx)("h2",{style:{color:"orange"},children:"Login"}),Object(D.jsx)(P,{}),Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:"or"}),Object(D.jsx)(m.b,{to:"/registration",style:{color:"orange",textDecoration:"none"},children:Object(D.jsx)("h3",{children:"create an account"})})]})]})})},R=C.a.create({baseURL:"https://recruitment.ultimate.systems"}),N=function(e){return R.post("/auth/local/register",e)},F={isRegistered:!1},A=Object(O.a)((function(e){return{input:{backgroundColor:"white"}}})),W=function(){var e=Object(v.b)(),t=Object(w.c)({initialValues:{username:"",email:"",password:"",repeatPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Must be 3 characters or more"):t.password="Required",e.password!==e.repeatPassword&&(t.repeatPassword="The password does not match"),t},onSubmit:function(n){var a;t.resetForm(),e((a={username:n.username,email:n.email,password:n.password},function(e){N(a).then((function(t){!0===t.data.confirmed?e({type:"register/SET-IS-REGISTERED",value:!0}):alert(t.data)})).catch((function(e){alert(e)}))}))}}),n=A();return Object(D.jsx)(h.a,{container:!0,justify:"center",children:Object(D.jsx)(h.a,{item:!0,xs:10,children:Object(D.jsx)("form",{onSubmit:t.handleSubmit,children:Object(D.jsx)(p.a,{children:Object(D.jsxs)(x.a,{children:[Object(D.jsx)(f.a,{inputProps:{className:n.input},variant:"outlined",fullWidth:!0,placeholder:"Username",margin:"normal",name:"username",onChange:t.handleChange,value:t.values.username,onBlur:t.handleBlur}),t.touched.email&&t.errors.email&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.email}),Object(D.jsx)(f.a,{inputProps:{className:n.input},placeholder:"Email",margin:"normal",fullWidth:!0,variant:"outlined",name:"email",onChange:t.handleChange,value:t.values.email,onBlur:t.handleBlur}),t.touched.email&&t.errors.email&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.email}),Object(D.jsx)(f.a,{inputProps:{className:n.input},type:"password",placeholder:"password",margin:"normal",name:"password",variant:"outlined",fullWidth:!0,onChange:t.handleChange,value:t.values.password,onBlur:t.handleBlur}),t.touched.password&&t.errors.password&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.password}),Object(D.jsx)(f.a,{inputProps:{className:n.input},type:"password",placeholder:"repeat password",margin:"normal",variant:"outlined",fullWidth:!0,name:"repeatPassword",onChange:t.handleChange,value:t.values.repeatPassword,onBlur:t.handleBlur}),t.touched.repeatPassword&&t.errors.repeatPassword&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.repeatPassword}),Object(D.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",children:"Create"})]})})})})})},U=function(){var e=Object(b.g)();return Object(D.jsx)(h.a,{container:!0,justify:"center",style:{backgroundColor:"rgb(45, 45, 45)",maxWidth:890,marginTop:200,padding:10},children:Object(D.jsxs)(h.a,{item:!0,xs:4,children:[Object(D.jsx)("button",{onClick:function(){return e.goBack()},children:"Back"}),Object(D.jsx)("h2",{style:{color:"orange"},children:"Create an new account:"}),Object(D.jsx)(W,{})]})})},q=n(36),G=n(32),z=C.a.create({baseURL:"https://recruitment.ultimate.systems",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),V=function(e){return z.get("/to-do-lists",{params:Object(y.a)({},e)})},_=function(e){return z.post("to-do-lists",e)},M=[],Z=function(e){return function(t){V(e).then((function(e){t({type:"SET-TODOLISTS",todolists:e.data})}))}},J=n(148),$=function(e){var t=e.enableBackground,n=e.backgroundStyle,a=e.backgroundOnClick,r=void 0===a?function(){}:a,c=e.width,i=e.height,o=e.modalStyle,s=e.modalOnClick,l=void 0===s?function(){}:s,d=e.show,u=e.children,j="calc(50vh - ".concat(i/2,"px)"),b="calc(50vw - ".concat(c/2,"px)");return d?Object(D.jsxs)(D.Fragment,{children:[t&&Object(D.jsx)("div",{style:Object(y.a)({position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",background:"black",opacity:.35,zIndex:20},n),onClick:r}),Object(D.jsx)("div",{style:Object(y.a)({position:"fixed",top:j,left:b,width:c,height:i,display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center",padding:20,background:"mintcream",zIndex:21},o),onClick:l,children:u})]}):null},H=n(99),K=n.n(H),Q=function(e){var t=Object(v.b)(),n=(K()(),Object(w.c)({initialValues:{name:"",task:[{id:"",name:"",isDone:!1}]},validate:function(e){var t={};return e.name||(t.name="name is required"),t},onSubmit:function(a){var r;e.setShow(!1),t((r=a,function(e){_(r).then((function(t){e({type:"ADD-TODOLIST",todolist:t.data})}))})),console.log(a),n.resetForm()}}));return Object(D.jsx)($,{height:800,width:880,backgroundOnClick:function(){return e.setShow(!1)},enableBackground:!0,show:e.show,children:Object(D.jsx)("form",{onSubmit:n.handleSubmit,children:Object(D.jsx)(w.b,{value:n,children:Object(D.jsx)(p.a,{children:Object(D.jsx)(x.a,{children:Object(D.jsxs)(h.a,{container:!0,direction:"column",spacing:1,alignItems:"center",children:[Object(D.jsxs)(h.a,{item:!0,children:[Object(D.jsx)(f.a,{label:"List name",margin:"normal",name:"name",onChange:n.handleChange,value:n.values.name,onBlur:n.handleBlur}),n.touched.name&&n.errors.name?Object(D.jsx)("div",{style:{color:"blue"},children:n.errors.name}):null]}),Object(D.jsx)(h.a,{item:!0,children:n.values.task.map((function(e,t){return Object(D.jsxs)(h.a,{item:!0,children:[Object(D.jsx)("label",{children:Object(D.jsx)(w.a,{type:"checkbox",name:"task[".concat(t,"].isDone")})}),Object(D.jsx)(J.a,Object(y.a)({minRows:1,placeholder:"Task name"},n.getFieldProps("task[".concat(t,"].name"))))]},t)}))}),Object(D.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(g.a,{variant:"contained",color:"secondary",children:"Cancel"})}),Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){n.setFieldValue("task",[].concat(Object(q.a)(n.values.task),[{id:"",name:"",isDone:!1}]))},children:"Add"})})]}),Object(D.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(g.a,{variant:"contained",color:"secondary",children:"Cancel"})}),Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})})]})]})})})})})})},X=n(100),Y=n.n(X),ee=n(191),te=function(e){return Object(D.jsxs)(h.a,{children:[Object(D.jsx)(ee.a,{checked:e.checked,inputProps:{"aria-label":"controlled"}}),Object(D.jsx)(f.a,{id:"filled-basic",label:"Task",variant:"filled",value:e.value})]})},ne=function(e){var t=Object(v.c)((function(e){return e.todolists})).find((function(t){return t.id===e.todolistID}))||null,n=Object(a.useState)(0),r=Object(G.a)(n,2),c=r[0],i=r[1];return Object(D.jsx)(D.Fragment,{children:t&&Object(D.jsx)($,{height:800,width:880,backgroundOnClick:function(){return e.setShow(!1)},enableBackground:!0,show:e.show,children:Object(D.jsxs)(p.a,{variant:"outlined",children:[Object(D.jsx)(f.a,{id:"todolist-name",label:"Todolist",variant:"filled",value:t.name}),Object(D.jsxs)(h.a,{item:!0,children:[t.task.map((function(e,t){return Object(D.jsx)(te,{checked:e.isDone,value:e.name})})),Object(q.a)(Array(c)).map((function(e,t){return Object(D.jsx)(te,{checked:!1,value:""},t)})),Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){return i(c+1)},children:"Add"})})]})]})})})},ae=n(195),re=n(194),ce=n(196),ie=n(190),oe=Object(O.a)((function(e){return Object(ae.a)({formControl:{margin:e.spacing(1),minWidth:120,backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)}})})),se=function(){var e=Object(v.b)(),t=oe(),n=r.a.useState(""),c=Object(G.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){e(Z({_sort:i}))}),[i]),Object(D.jsx)("div",{children:Object(D.jsxs)(p.a,{variant:"outlined",className:t.formControl,children:[Object(D.jsx)(re.a,{id:"demo-simple-select-outlined-label",children:"Sort"}),Object(D.jsxs)(ie.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:i,onChange:function(e){o(e.target.value)},label:"Sort by",children:[Object(D.jsx)(ce.a,{value:"",children:Object(D.jsx)("em",{children:"None"})}),Object(D.jsx)(ce.a,{value:"name",children:"Name"}),Object(D.jsx)(ce.a,{value:"created_at",children:"Date"})]})]})})},le=Object(O.a)((function(e){return Object(ae.a)({formControl:{margin:e.spacing(1),minWidth:120,backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)}})})),de=function(){var e=le(),t=Object(v.b)(),n=Object(v.c)((function(e){return e.todolists})),r=Object(a.useState)(!1),c=Object(G.a)(r,2),i=c[0],o=c[1],s=Object(a.useState)(!1),l=Object(G.a)(s,2),d=l[0],u=l[1],j=Object(a.useState)("todoId"),m=Object(G.a)(j,2),O=m[0],x=m[1],g=Object(a.useState)(""),w=Object(G.a)(g,2),y=w[0],k=w[1],C=Object(v.c)((function(e){return e.login.isLogin})),S=Object(a.useMemo)((function(){var e=Object(q.a)(n);return e=y?e.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())})):e}),[n,y]);Object(a.useEffect)((function(){t(Z({}))}),[t]);var I=Object(a.useCallback)((function(){o(!0)}),[]),T=Object(a.useCallback)((function(e){x(e),u(!0)}),[]);return C?Object(D.jsxs)(h.a,{container:!0,direction:"column",children:[Object(D.jsx)(h.a,{container:!0,direction:"row",justifyContent:"space-between",children:Object(D.jsx)(p.a,{variant:"outlined",className:e.formControl,children:Object(D.jsx)(f.a,{id:"filled-basic",label:"Filled",variant:"filled",onChange:function(e){return k(e.target.value)}})})}),Object(D.jsx)(se,{}),Object(D.jsx)(h.a,{container:!0,spacing:1,direction:"column",children:S.map((function(e){return Object(D.jsxs)(h.a,{container:!0,style:{backgroundColor:"grey",borderRadius:8,color:"white",margin:4,padding:18,cursor:"pointer"},direction:"row",justifyContent:"space-between",onClick:function(){return T(e.id)},children:[Object(D.jsx)(h.a,{item:!0,children:e.name}),Object(D.jsxs)(h.a,{item:!0,children:["Created at: ",e.published_at]}),Object(D.jsxs)(h.a,{item:!0,children:["Completed: ",e.task.filter((function(e){return!0===e.isDone})).length," Uncompleted: ",e.task.filter((function(e){return!1===e.isDone})).length," All: ",e.task.length]})]},e.id)}))}),Object(D.jsx)(Y.a,{style:{position:"sticky",bottom:10,cursor:"pointer",borderRadius:50,fontSize:40,right:10,backgroundColor:"white",color:"orange",margin:4,padding:18},onClick:function(){return I()},children:"Add"}),i&&Object(D.jsx)(Q,{show:i,setShow:o}),d&&Object(D.jsx)(ne,{show:d,setShow:u,todolistID:O})]}):Object(D.jsx)(b.a,{to:"/login"})},ue=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.login.isLogin}));return Object(D.jsxs)("div",{className:"App",style:{backgroundColor:"black",justifyContent:"center",alignItems:"center"},children:[Object(D.jsx)(o.a,{position:"static",children:Object(D.jsx)(s.a,{style:{backgroundColor:"black"},children:t&&Object(D.jsx)(l.a,{style:{color:"orange",position:"absolute",top:0,right:4},"aria-label":"logout",children:Object(D.jsx)(j.a,{onClick:function(){e((function(e){e(B("",0,!1)),localStorage.removeItem("token")}))}})})})}),Object(D.jsx)(d.a,{style:{backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(D.jsxs)(b.d,{children:[Object(D.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(D.jsx)(de,{})}}),Object(D.jsx)(b.b,{path:"/login",render:function(){return Object(D.jsx)(E,{})}}),Object(D.jsx)(b.b,{path:"/registration",render:function(){return Object(D.jsx)(U,{})}}),Object(D.jsx)(b.b,{path:"/404",render:function(){return Object(D.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(D.jsx)(b.a,{from:"*",to:"/404"})]})})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,197)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},be=n(66),he=n(102),me=Object(be.b)({registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-IS-REGISTERED":return Object(y.a)(Object(y.a)({},e),{},{isRegistered:t.value});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGIN":return Object(y.a)(Object(y.a)({},e),{},{username:t.username,id:t.id,isLogin:t.value});default:return e}},todolists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TODOLISTS":return t.todolists.map((function(e){return Object(y.a)({},e)}));case"ADD-TODOLIST":return[Object(y.a)({},t.todolist)].concat(Object(q.a)(e));default:return e}}}),Oe=Object(be.c)(me,Object(be.a)(he.a));window.store=Oe,i.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(m.a,{children:Object(D.jsx)(v.a,{store:Oe,children:Object(D.jsx)(ue,{})})})}),document.getElementById("root")),je()}},[[146,1,2]]]);
//# sourceMappingURL=main.ed7243b3.chunk.js.map