(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),i=n.n(c),o=(n(109),n(110),n(175)),s=n(176),l=n(177),d=n(178),u=n(95),j=n.n(u),b=n(11),h=n(166),m=n(34),O=n(170),g=n(171),x=n(179),p=n(174),f=n(13),v=n(33),w=n(20),y=n(42),k=n.n(y),C=k.a.create({baseURL:"https://recruitment.ultimate.systems"}),S=function(e){return C.post("/auth/local/",e)},I={username:"",id:0,jwt:"",isLogin:!1},T=function(e,t,n){return{type:"login/SET-IS-LOGIN",username:e,id:t,value:n}},B=n(2),D=function(){var e=Object(f.b)(),t=Object(v.c)({initialValues:{identifier:"",password:""},validate:function(e){var t={};return e.identifier||(t.identifier="Required"),e.password||(t.password="Required"),t},onSubmit:function(n){var r;e((r=n,function(e){S(r).then((function(t){0===t.data.code&&alert(t.data.message),e(T(t.data.user.username,t.data.user.id,!0)),localStorage.setItem("token",t.data.jwt)})).catch((function(e){alert(e)}))})),t.resetForm()}});return Object(B.jsx)(h.a,{container:!0,justify:"center",children:Object(B.jsx)(h.a,{item:!0,xs:4,children:Object(B.jsx)("form",{onSubmit:t.handleSubmit,children:Object(B.jsx)(O.a,{children:Object(B.jsxs)(g.a,{children:[Object(B.jsx)(x.a,{label:"Username or email",margin:"normal",name:"identifier",onChange:t.handleChange,value:t.values.identifier,onBlur:t.handleBlur}),t.touched.identifier&&t.errors.identifier&&Object(B.jsx)("div",{style:{color:"red"},children:t.errors.identifier}),Object(B.jsx)(x.a,{type:"password",label:"Password",margin:"normal",name:"password",onChange:t.handleChange,value:t.values.password,onBlur:t.handleBlur}),t.touched.password&&t.errors.password&&Object(B.jsx)("div",{style:{color:"red"},children:t.errors.password}),Object(B.jsx)(p.a,{type:"submit",variant:"contained",style:{backgroundColor:"orange",color:"white"},children:"Login"})]})})})})})},L=function(){return Object(f.c)((function(e){return e.login.isLogin}))?Object(B.jsx)(b.a,{to:"/"}):Object(B.jsx)(h.a,{container:!0,justify:"center",style:{backgroundColor:"rgb(45, 45, 45)",maxWidth:890,marginTop:200},children:Object(B.jsxs)(h.a,{item:!0,xs:4,children:[Object(B.jsx)("h2",{style:{color:"orange"},children:"Login"}),Object(B.jsx)(D,{}),Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{children:"or"}),Object(B.jsx)(m.b,{to:"/registration",style:{color:"orange",textDecoration:"none"},children:Object(B.jsx)("h3",{children:"create an account"})})]})]})})},R=n(173),E=k.a.create({baseURL:"https://recruitment.ultimate.systems"}),F=function(e){return E.post("/auth/local/register",e)},P={isRegistered:!1},A=function(){var e=Object(f.b)(),t=Object(v.c)({initialValues:{username:"",email:"",password:"",repeatPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Must be 3 characters or more"):t.password="Required",e.password!==e.repeatPassword&&(t.repeatPassword="The password does not match"),t},onSubmit:function(n){var r;t.resetForm(),e((r={username:n.username,email:n.email,password:n.password},function(e){F(r).then((function(t){!0===t.data.confirmed?e({type:"register/SET-IS-REGISTERED",value:!0}):alert(t.data)})).catch((function(e){alert(e)}))}))}});return Object(B.jsx)(h.a,{container:!0,justify:"center",children:Object(B.jsx)(h.a,{item:!0,xs:4,children:Object(B.jsx)("form",{onSubmit:t.handleSubmit,children:Object(B.jsxs)(O.a,{children:[Object(B.jsx)(R.a,{children:Object(B.jsx)("p",{children:"Create an new account:"})}),Object(B.jsxs)(g.a,{children:[Object(B.jsx)(x.a,{label:"Username",margin:"normal",name:"username",onChange:t.handleChange,value:t.values.username,onBlur:t.handleBlur}),t.touched.email&&t.errors.email&&Object(B.jsx)("div",{style:{color:"red"},children:t.errors.email}),Object(B.jsx)(x.a,{label:"Email",margin:"normal",name:"email",onChange:t.handleChange,value:t.values.email,onBlur:t.handleBlur}),t.touched.email&&t.errors.email&&Object(B.jsx)("div",{style:{color:"red"},children:t.errors.email}),Object(B.jsx)(x.a,{type:"password",label:"Password",margin:"normal",name:"password",onChange:t.handleChange,value:t.values.password,onBlur:t.handleBlur}),t.touched.password&&t.errors.password&&Object(B.jsx)("div",{style:{color:"red"},children:t.errors.password}),Object(B.jsx)(x.a,{type:"password",label:"Repeat password",margin:"normal",name:"repeatPassword",onChange:t.handleChange,value:t.values.repeatPassword,onBlur:t.handleBlur}),t.touched.repeatPassword&&t.errors.repeatPassword&&Object(B.jsx)("div",{style:{color:"red"},children:t.errors.repeatPassword}),Object(B.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Create"})]})]})})})})},U=function(){var e=Object(b.g)();return Object(B.jsx)(h.a,{container:!0,justify:"center",style:{backgroundColor:"rgb(45, 45, 45)",maxWidth:890,marginTop:200},children:Object(B.jsxs)(h.a,{item:!0,xs:4,children:[Object(B.jsx)("button",{onClick:function(){return e.goBack()},children:"Back"}),Object(B.jsx)(A,{})]})})},q=n(62),G=n(60),N=k.a.create({baseURL:"https://recruitment.ultimate.systems",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),z=function(){return N.get("/to-do-lists")},V=function(e){return N.post("to-do-lists",e)},Z=[],J=n(172),M=function(e){var t=e.enableBackground,n=e.backgroundStyle,r=e.backgroundOnClick,a=void 0===r?function(){}:r,c=e.width,i=e.height,o=e.modalStyle,s=e.modalOnClick,l=void 0===s?function(){}:s,d=e.show,u=e.children,j="calc(50vh - ".concat(i/2,"px)"),b="calc(50vw - ".concat(c/2,"px)");return d?Object(B.jsxs)(B.Fragment,{children:[t&&Object(B.jsx)("div",{style:Object(w.a)({position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",background:"black",opacity:.35,zIndex:20},n),onClick:a}),Object(B.jsx)("div",{style:Object(w.a)({position:"fixed",top:j,left:b,width:c,height:i,display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center",padding:20,background:"mintcream",zIndex:21},o),onClick:l,children:u})]}):null},W=n(93),_=n.n(W),$=function(e){var t=Object(f.b)(),n=(_()(),Object(v.c)({initialValues:{name:"",task:[{id:"",name:"",isDone:!1}]},validate:function(e){var t={};return e.name||(t.name="name is required"),t},onSubmit:function(r){var a;e.setShow(!1),t((a=r,function(e){V(a).then((function(t){e({type:"ADD-TODOLIST",todolist:t.data})}))})),console.log(r),n.resetForm()}}));return Object(B.jsx)(M,{height:800,width:880,backgroundOnClick:function(){return e.setShow(!1)},enableBackground:!0,show:e.show,children:Object(B.jsx)("form",{onSubmit:n.handleSubmit,children:Object(B.jsx)(v.b,{value:n,children:Object(B.jsx)(O.a,{children:Object(B.jsx)(g.a,{children:Object(B.jsxs)(h.a,{container:!0,direction:"column",spacing:1,alignItems:"center",children:[Object(B.jsxs)(h.a,{item:!0,children:[Object(B.jsx)(x.a,{label:"List name",margin:"normal",name:"name",onChange:n.handleChange,value:n.values.name,onBlur:n.handleBlur}),n.touched.name&&n.errors.name?Object(B.jsx)("div",{style:{color:"blue"},children:n.errors.name}):null]}),Object(B.jsx)(h.a,{item:!0,children:n.values.task.map((function(e,t){return Object(B.jsxs)(h.a,{item:!0,children:[Object(B.jsx)("label",{children:Object(B.jsx)(v.a,{type:"checkbox",name:"task[".concat(t,"].isDone")})}),Object(B.jsx)(J.a,Object(w.a)({minRows:1,placeholder:"Task name"},n.getFieldProps("task[".concat(t,"].name"))))]},t)}))}),Object(B.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(B.jsx)(h.a,{item:!0,children:Object(B.jsx)(p.a,{variant:"contained",color:"secondary",children:"Cancel"})}),Object(B.jsx)(h.a,{item:!0,children:Object(B.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){n.setFieldValue("task",[].concat(Object(G.a)(n.values.task),[{id:"",name:"",isDone:!1}]))},children:"Add"})})]}),Object(B.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(B.jsx)(h.a,{item:!0,children:Object(B.jsx)(p.a,{variant:"contained",color:"secondary",children:"Cancel"})}),Object(B.jsx)(h.a,{item:!0,children:Object(B.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})})]})]})})})})})})},H=n(94),K=n.n(H),Q=function(e){var t=Object(f.c)((function(t){return t.todolists.filter((function(t){return t.id===e.todolistID}))}));return console.log(t),Object(B.jsxs)(M,{height:800,width:880,backgroundOnClick:function(){return e.setShow(!1)},enableBackground:!0,show:e.show,children:[Object(B.jsx)(B.Fragment,{children:t[0].name}),Object(B.jsx)(B.Fragment,{children:t[0].name})]})},X=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.todolists})),n=Object(r.useState)(!1),a=Object(q.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(!1),s=Object(q.a)(o,2),l=s[0],d=s[1],u=Object(r.useState)("todoId"),j=Object(q.a)(u,2),m=j[0],O=j[1],g=Object(f.c)((function(e){return e.login.isLogin}));Object(r.useEffect)((function(){e((function(e){z().then((function(t){e({type:"SET-TODOLISTS",todolists:t.data})}))}))}),[e]);var x=Object(r.useCallback)((function(){i(!0)}),[]),p=Object(r.useCallback)((function(e){O(e),d(!0)}),[]);return g?(console.log(t),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("input",{type:"text"}),Object(B.jsx)("button",{children:"Sort by"}),Object(B.jsx)(h.a,{container:!0,spacing:1,direction:"column",children:t.map((function(e){return Object(B.jsxs)(h.a,{container:!0,style:{backgroundColor:"grey",borderRadius:8,color:"white",margin:4,padding:18,cursor:"pointer"},direction:"row",justifyContent:"space-between",onClick:function(){return p(e.id)},children:[Object(B.jsx)(h.a,{item:!0,children:e.name}),Object(B.jsxs)(h.a,{item:!0,children:["Created at: ",e.published_at]}),Object(B.jsxs)(h.a,{item:!0,children:["Completed: ",e.task.filter((function(e){return!0===e.isDone})).length," Uncompleted: ",e.task.filter((function(e){return!1===e.isDone})).length," All: ",e.task.length+1]})]},e.id)}))}),Object(B.jsx)(K.a,{style:{position:"sticky",bottom:10,cursor:"pointer",borderRadius:50,fontSize:40,right:10,backgroundColor:"white",color:"orange",margin:4,padding:18},onClick:function(){return x()},children:"Add"}),c&&Object(B.jsx)($,{show:c,setShow:i}),l&&Object(B.jsx)(Q,{show:l,setShow:d,todolistID:m})]})):Object(B.jsx)(b.a,{to:"/login"})},Y=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.login.isLogin}));return Object(B.jsxs)("div",{className:"App",style:{backgroundColor:"black",justifyContent:"center",alignItems:"center"},children:[Object(B.jsx)(o.a,{position:"static",children:Object(B.jsx)(s.a,{style:{backgroundColor:"black"},children:t&&Object(B.jsx)(l.a,{style:{color:"orange",position:"absolute",top:0,right:4},"aria-label":"logout",children:Object(B.jsx)(j.a,{onClick:function(){e((function(e){e(T("",0,!1)),localStorage.removeItem("token")}))}})})})}),Object(B.jsx)(d.a,{style:{backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(B.jsxs)(b.d,{children:[Object(B.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(B.jsx)(X,{})}}),Object(B.jsx)(b.b,{path:"/login",render:function(){return Object(B.jsx)(L,{})}}),Object(B.jsx)(b.b,{path:"/registration",render:function(){return Object(B.jsx)(U,{})}}),Object(B.jsx)(b.b,{path:"/404",render:function(){return Object(B.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(B.jsx)(b.a,{from:"*",to:"/404"})]})})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,181)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},te=n(63),ne=n(96),re=Object(te.b)({registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-IS-REGISTERED":return Object(w.a)(Object(w.a)({},e),{},{isRegistered:t.value});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGIN":return Object(w.a)(Object(w.a)({},e),{},{username:t.username,id:t.id,isLogin:t.value});default:return e}},todolists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TODOLISTS":return t.todolists.map((function(e){return Object(w.a)({},e)}));case"ADD-TODOLIST":return[Object(w.a)({},t.todolist)].concat(Object(G.a)(e));default:return e}}}),ae=Object(te.c)(re,Object(te.a)(ne.a));window.store=ae,i.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(m.a,{children:Object(B.jsx)(f.a,{store:ae,children:Object(B.jsx)(Y,{})})})}),document.getElementById("root")),ee()}},[[137,1,2]]]);
//# sourceMappingURL=main.ffe63dfe.chunk.js.map