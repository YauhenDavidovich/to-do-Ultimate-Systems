(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),i=n.n(c),o=(n(116),n(117),n(185)),s=n(186),l=n(187),d=n(188),u=n(100),j=n.n(u),b=n(11),h=n(178),m=n(35),O=n(175),p=n(180),g=n(181),f=n(190),x=n(184),v=n(12),w=n(34),y=n(18),C=n(44),k=n.n(C),S=k.a.create({baseURL:"https://recruitment.ultimate.systems"}),I=function(e){return S.post("/auth/local/",e)},T={username:"",id:0,jwt:"",isLogin:!1},B=function(e,t,n){return{type:"login/SET-IS-LOGIN",username:e,id:t,value:n}},D=n(2),L=Object(O.a)((function(e){return{input:{backgroundColor:"white"}}})),E=function(){var e=Object(v.b)(),t=Object(w.c)({initialValues:{identifier:"",password:""},validate:function(e){var t={};return e.identifier||(t.identifier="Required"),e.password||(t.password="Required"),t},onSubmit:function(n){var r;e((r=n,function(e){I(r).then((function(t){0===t.data.code&&alert(t.data.message),e(B(t.data.user.username,t.data.user.id,!0)),localStorage.setItem("token",t.data.jwt)})).catch((function(e){alert(e)}))})),t.resetForm()}}),n=L();return Object(D.jsx)(h.a,{container:!0,justify:"center",children:Object(D.jsx)(h.a,{item:!0,xs:4,children:Object(D.jsx)("form",{onSubmit:t.handleSubmit,children:Object(D.jsx)(p.a,{children:Object(D.jsxs)(g.a,{children:[Object(D.jsx)(f.a,{inputProps:{className:n.input},placeholder:"Username or email",margin:"normal",name:"identifier",onChange:t.handleChange,value:t.values.identifier,onBlur:t.handleBlur}),t.touched.identifier&&t.errors.identifier&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.identifier}),Object(D.jsx)(f.a,{inputProps:{className:n.input},type:"password",placeholder:"Password",margin:"normal",name:"password",onChange:t.handleChange,value:t.values.password,onBlur:t.handleBlur}),t.touched.password&&t.errors.password&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.password}),Object(D.jsx)(x.a,{type:"submit",variant:"contained",style:{backgroundColor:"orange",color:"white"},children:"Login"})]})})})})})},P=function(){return Object(v.c)((function(e){return e.login.isLogin}))?Object(D.jsx)(b.a,{to:"/"}):Object(D.jsx)(h.a,{container:!0,justify:"center",style:{backgroundColor:"rgb(45, 45, 45)",maxWidth:890,marginTop:200},children:Object(D.jsxs)(h.a,{item:!0,xs:4,children:[Object(D.jsx)("h2",{style:{color:"orange"},children:"Login"}),Object(D.jsx)(E,{}),Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:"or"}),Object(D.jsx)(m.b,{to:"/registration",style:{color:"orange",textDecoration:"none"},children:Object(D.jsx)("h3",{children:"create an account"})})]})]})})},R=k.a.create({baseURL:"https://recruitment.ultimate.systems"}),F=function(e){return R.post("/auth/local/register",e)},N={isRegistered:!1},A=Object(O.a)((function(e){return{input:{backgroundColor:"white"}}})),W=function(){var e=Object(v.b)(),t=Object(w.c)({initialValues:{username:"",email:"",password:"",repeatPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Must be 3 characters or more"):t.password="Required",e.password!==e.repeatPassword&&(t.repeatPassword="The password does not match"),t},onSubmit:function(n){var r;t.resetForm(),e((r={username:n.username,email:n.email,password:n.password},function(e){F(r).then((function(t){!0===t.data.confirmed?e({type:"register/SET-IS-REGISTERED",value:!0}):alert(t.data)})).catch((function(e){alert(e)}))}))}}),n=A();return Object(D.jsx)(h.a,{container:!0,justify:"center",children:Object(D.jsx)(h.a,{item:!0,xs:4,children:Object(D.jsx)("form",{onSubmit:t.handleSubmit,children:Object(D.jsx)(p.a,{children:Object(D.jsxs)(g.a,{children:[Object(D.jsx)(f.a,{inputProps:{className:n.input},variant:"outlined",fullWidth:!0,placeholder:"Username",margin:"normal",name:"username",onChange:t.handleChange,value:t.values.username,onBlur:t.handleBlur}),t.touched.email&&t.errors.email&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.email}),Object(D.jsx)(f.a,{inputProps:{className:n.input},placeholder:"Email",margin:"normal",fullWidth:!0,variant:"outlined",name:"email",onChange:t.handleChange,value:t.values.email,onBlur:t.handleBlur}),t.touched.email&&t.errors.email&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.email}),Object(D.jsx)(f.a,{inputProps:{className:n.input},type:"password",placeholder:"password",margin:"normal",name:"password",variant:"outlined",fullWidth:!0,onChange:t.handleChange,value:t.values.password,onBlur:t.handleBlur}),t.touched.password&&t.errors.password&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.password}),Object(D.jsx)(f.a,{inputProps:{className:n.input},type:"password",placeholder:"repeat password",margin:"normal",variant:"outlined",fullWidth:!0,name:"repeatPassword",onChange:t.handleChange,value:t.values.repeatPassword,onBlur:t.handleBlur}),t.touched.repeatPassword&&t.errors.repeatPassword&&Object(D.jsx)("div",{style:{color:"red"},children:t.errors.repeatPassword}),Object(D.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",children:"Create"})]})})})})})},U=function(){var e=Object(b.g)();return Object(D.jsx)(h.a,{container:!0,justify:"center",style:{backgroundColor:"rgb(45, 45, 45)",maxWidth:890,marginTop:200,padding:10},children:Object(D.jsxs)(h.a,{item:!0,xs:4,children:[Object(D.jsx)("button",{onClick:function(){return e.goBack()},children:"Back"}),Object(D.jsx)("h2",{style:{color:"orange"},children:"Create an new account:"}),Object(D.jsx)(W,{})]})})},q=n(47),G=n(40),z=k.a.create({baseURL:"https://recruitment.ultimate.systems",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),V=function(e){return z.get("/to-do-lists",{params:Object(y.a)({},e)})},_=function(e){return z.post("to-do-lists",e)},M=[],Z=function(e){return function(t){V(e).then((function(e){t({type:"SET-TODOLISTS",todolists:e.data})}))}},J=n(146),$=function(e){var t=e.enableBackground,n=e.backgroundStyle,r=e.backgroundOnClick,a=void 0===r?function(){}:r,c=e.width,i=e.height,o=e.modalStyle,s=e.modalOnClick,l=void 0===s?function(){}:s,d=e.show,u=e.children,j="calc(50vh - ".concat(i/2,"px)"),b="calc(50vw - ".concat(c/2,"px)");return d?Object(D.jsxs)(D.Fragment,{children:[t&&Object(D.jsx)("div",{style:Object(y.a)({position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",background:"black",opacity:.35,zIndex:20},n),onClick:a}),Object(D.jsx)("div",{style:Object(y.a)({position:"fixed",top:j,left:b,width:c,height:i,display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center",padding:20,background:"mintcream",zIndex:21},o),onClick:l,children:u})]}):null},H=n(98),K=n.n(H),Q=function(e){var t=Object(v.b)(),n=(K()(),Object(w.c)({initialValues:{name:"",task:[{id:"",name:"",isDone:!1}]},validate:function(e){var t={};return e.name||(t.name="name is required"),t},onSubmit:function(r){var a;e.setShow(!1),t((a=r,function(e){_(a).then((function(t){e({type:"ADD-TODOLIST",todolist:t.data})}))})),console.log(r),n.resetForm()}}));return Object(D.jsx)($,{height:800,width:880,backgroundOnClick:function(){return e.setShow(!1)},enableBackground:!0,show:e.show,children:Object(D.jsx)("form",{onSubmit:n.handleSubmit,children:Object(D.jsx)(w.b,{value:n,children:Object(D.jsx)(p.a,{children:Object(D.jsx)(g.a,{children:Object(D.jsxs)(h.a,{container:!0,direction:"column",spacing:1,alignItems:"center",children:[Object(D.jsxs)(h.a,{item:!0,children:[Object(D.jsx)(f.a,{label:"List name",margin:"normal",name:"name",onChange:n.handleChange,value:n.values.name,onBlur:n.handleBlur}),n.touched.name&&n.errors.name?Object(D.jsx)("div",{style:{color:"blue"},children:n.errors.name}):null]}),Object(D.jsx)(h.a,{item:!0,children:n.values.task.map((function(e,t){return Object(D.jsxs)(h.a,{item:!0,children:[Object(D.jsx)("label",{children:Object(D.jsx)(w.a,{type:"checkbox",name:"task[".concat(t,"].isDone")})}),Object(D.jsx)(J.a,Object(y.a)({minRows:1,placeholder:"Task name"},n.getFieldProps("task[".concat(t,"].name"))))]},t)}))}),Object(D.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(x.a,{variant:"contained",color:"secondary",children:"Cancel"})}),Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){n.setFieldValue("task",[].concat(Object(q.a)(n.values.task),[{id:"",name:"",isDone:!1}]))},children:"Add"})})]}),Object(D.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",children:[Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(x.a,{variant:"contained",color:"secondary",children:"Cancel"})}),Object(D.jsx)(h.a,{item:!0,children:Object(D.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})})]})]})})})})})})},X=n(99),Y=n.n(X),ee=function(e){var t=Object(v.c)((function(t){return t.todolists.filter((function(t){return t.id===e.todolistID}))}));return console.log(t),Object(D.jsxs)($,{height:800,width:880,backgroundOnClick:function(){return e.setShow(!1)},enableBackground:!0,show:e.show,children:[Object(D.jsx)(D.Fragment,{children:t[0].name}),Object(D.jsx)(D.Fragment,{children:t[0].name})]})},te=n(193),ne=n(192),re=n(194),ae=n(189),ce=Object(O.a)((function(e){return Object(te.a)({formControl:{margin:e.spacing(1),minWidth:120,backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)}})}));function ie(){var e=Object(v.b)(),t=ce(),n=a.a.useState(""),c=Object(G.a)(n,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){e(Z({_sort:i}))}),[i]),Object(D.jsx)("div",{children:Object(D.jsxs)(p.a,{variant:"outlined",className:t.formControl,children:[Object(D.jsx)(ne.a,{id:"demo-simple-select-outlined-label",children:"Sort"}),Object(D.jsxs)(ae.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:i,onChange:function(e){o(e.target.value)},label:"Sort by",children:[Object(D.jsx)(re.a,{value:"",children:Object(D.jsx)("em",{children:"None"})}),Object(D.jsx)(re.a,{value:"name",children:"Name"}),Object(D.jsx)(re.a,{value:"created_at",children:"Date"})]})]})})}var oe=Object(O.a)((function(e){return Object(te.a)({formControl:{margin:e.spacing(1),minWidth:120,backgroundColor:"white"},selectEmpty:{marginTop:e.spacing(2)}})})),se=function(){var e=oe(),t=Object(v.b)(),n=Object(v.c)((function(e){return e.todolists})),a=Object(r.useState)(!1),c=Object(G.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)(!1),l=Object(G.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)("todoId"),m=Object(G.a)(j,2),O=m[0],g=m[1],x=Object(r.useState)(""),w=Object(G.a)(x,2),y=w[0],C=w[1],k=Object(v.c)((function(e){return e.login.isLogin})),S=Object(r.useMemo)((function(){var e=Object(q.a)(n);return e=y?e.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())})):e}),[n,y]);Object(r.useEffect)((function(){t(Z({}))}),[t]);var I=Object(r.useCallback)((function(){o(!0)}),[]),T=Object(r.useCallback)((function(e){g(e),u(!0)}),[]);return k?Object(D.jsxs)(h.a,{container:!0,direction:"column",children:[Object(D.jsx)(h.a,{container:!0,direction:"row",justifyContent:"space-between",children:Object(D.jsx)(p.a,{variant:"outlined",className:e.formControl,children:Object(D.jsx)(f.a,{id:"filled-basic",label:"Filled",variant:"filled",onChange:function(e){return C(e.target.value)}})})}),Object(D.jsx)(ie,{}),Object(D.jsx)(h.a,{container:!0,spacing:1,direction:"column",children:S.map((function(e){return Object(D.jsxs)(h.a,{container:!0,style:{backgroundColor:"grey",borderRadius:8,color:"white",margin:4,padding:18,cursor:"pointer"},direction:"row",justifyContent:"space-between",onClick:function(){return T(e.id)},children:[Object(D.jsx)(h.a,{item:!0,children:e.name}),Object(D.jsxs)(h.a,{item:!0,children:["Created at: ",e.published_at]}),Object(D.jsxs)(h.a,{item:!0,children:["Completed: ",e.task.filter((function(e){return!0===e.isDone})).length," Uncompleted: ",e.task.filter((function(e){return!1===e.isDone})).length," All: ",e.task.length+1]})]},e.id)}))}),Object(D.jsx)(Y.a,{style:{position:"sticky",bottom:10,cursor:"pointer",borderRadius:50,fontSize:40,right:10,backgroundColor:"white",color:"orange",margin:4,padding:18},onClick:function(){return I()},children:"Add"}),i&&Object(D.jsx)(Q,{show:i,setShow:o}),d&&Object(D.jsx)(ee,{show:d,setShow:u,todolistID:O})]}):Object(D.jsx)(b.a,{to:"/login"})},le=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.login.isLogin}));return Object(D.jsxs)("div",{className:"App",style:{backgroundColor:"black",justifyContent:"center",alignItems:"center"},children:[Object(D.jsx)(o.a,{position:"static",children:Object(D.jsx)(s.a,{style:{backgroundColor:"black"},children:t&&Object(D.jsx)(l.a,{style:{color:"orange",position:"absolute",top:0,right:4},"aria-label":"logout",children:Object(D.jsx)(j.a,{onClick:function(){e((function(e){e(B("",0,!1)),localStorage.removeItem("token")}))}})})})}),Object(D.jsx)(d.a,{style:{backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(D.jsxs)(b.d,{children:[Object(D.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(D.jsx)(se,{})}}),Object(D.jsx)(b.b,{path:"/login",render:function(){return Object(D.jsx)(P,{})}}),Object(D.jsx)(b.b,{path:"/registration",render:function(){return Object(D.jsx)(U,{})}}),Object(D.jsx)(b.b,{path:"/404",render:function(){return Object(D.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(D.jsx)(b.a,{from:"*",to:"/404"})]})})]})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,195)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},ue=n(66),je=n(101),be=Object(ue.b)({registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-IS-REGISTERED":return Object(y.a)(Object(y.a)({},e),{},{isRegistered:t.value});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGIN":return Object(y.a)(Object(y.a)({},e),{},{username:t.username,id:t.id,isLogin:t.value});default:return e}},todolists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TODOLISTS":return t.todolists.map((function(e){return Object(y.a)({},e)}));case"ADD-TODOLIST":return[Object(y.a)({},t.todolist)].concat(Object(q.a)(e));default:return e}}}),he=Object(ue.c)(be,Object(ue.a)(je.a));window.store=he,i.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(m.a,{children:Object(D.jsx)(v.a,{store:he,children:Object(D.jsx)(le,{})})})}),document.getElementById("root")),de()}},[[144,1,2]]]);
//# sourceMappingURL=main.f93ce90d.chunk.js.map